### 秒杀场景
    1. 能静态的数据静态化， CDN加速。
    2. 限流,短时间内，同一用户，同一IP,多次请求丢弃。

问题： 短时间内，大量连接同时写数据库，数据库崩溃
方案： 消息队列，缓存消息
      削峰填谷
      解耦合
      异步处理
    保证只消费一次：
        1. 消息丢失：消息服务器网络抖动，消息丢失 - 消息重传机制
        2. 消息队列中消息丢失： 异步刷盘 - 断电， 宕机等导致消息丢失 - 同步部署消息服务器集群模式。
                Leader - Follower 模式 ISR(In sync replicas)
                ACK 模式，Leader 和 所有的ISR 都会到的确认是否发送成功。
        3. 消费过程中丢失数据
            1. 重复消费
            2. 业务没有处理完成，提交位移，数据丢失
            3. 生成和消费幂等（同一条数据多次执行结果是一样的）

        在生产和消费过程中增加幂等性（给每一个生产者）
        数据库乐观锁，增加数据版本号，重复数据不再更新
### 消息延迟
    1. 工具监控消息堆积
    2. 生成监控消息的延迟情况

    优化消费代码
    增加消费者数量


